apiVersion: eaas.envmgmt.io/v1
kind: Driver
metadata:
  name: custom-driver1-458877
  project: defaultproject
spec:
  config:
    container:
      arguments:
      - -lock=true
      - -refresh=true
      cpuLimitMilli: "200"
      envVars:
        AWS_ACCESS_KEY_ID: sealed://driverconfig.container.envs.AWS_ACCESS_KEY_ID
        AWS_SECRET_ACCESS_KEY: sealed://driverconfig.container.envs.AWS_SECRET_ACCESS_KEY
        DRIVER_DEBUG: sealed://driverconfig.container.envs.DRIVER_DEBUG
        OVERRIDE_TERRAFORM_DOWNLOAD_ENDPOINT: sealed://driverconfig.container.envs.OVERRIDE_TERRAFORM_DOWNLOAD_ENDPOINT
      image: rafayautomation/terraform-driver:custom-driver-hcp-latest1
      imagePullCredentials:
        password: sealed://registry_credentials
        registry: https://index.docker.io/v1/
        username: rafayautomation
      kubeOptions:
        labels:
          instance1: aws1
          instance2: aws2
      memoryLimitMb: "1000"
      volumeOptions: {}
      volumes:
      - mountPath: /tmpcustomdriver
    type: container
  secret:
    name: file://artifacts/custom-driver1-458877/sealed-secret.yaml
