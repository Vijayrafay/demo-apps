apiVersion: infra.k8smgmt.io/v3
kind: Cluster
metadata:
  name: abishek-eks-cluster-ha-oct-3-0
  project: defaultproject
spec:
  blueprintConfig:
    name: alation-custom-bp
    version: v1
  cloudCredentials: abishek-aws
  config:
    addons:
    - name: aws-ebs-csi-driver
      serviceAccountRoleARN: arn:aws:iam::679196758854:role/rafay-abishek-eks-cluster-ha-oct-3-0-addon-aw-Role1-jFZdB82FxTy6
      version: v1.35.0-eksbuild.1
    - name: coredns
      version: v1.11.1-eksbuild.4
    - name: kube-proxy
      version: v1.29.0-eksbuild.1
    - name: vpc-cni
      serviceAccountRoleARN: arn:aws:iam::679196758854:role/rafay-abishek-eks-cluster-ha-oct-3-0-addon-vp-Role1-5HwIkMwIe57v
      version: v1.16.0-eksbuild.1
    availabilityZones:
    - us-west-2d
    - us-west-2b
    - us-west-2a
    iam:
      serviceAccounts:
      - attachRoleARN: arn:aws:iam::679196758854:role/rafay-abishek-eks-cluster-ha-oct-3-0-addon-vp-Role1-5HwIkMwIe57v
        metadata:
          labels:
            app.kubernetes.io/instance: aws-vpc-cni
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: aws-node
            app.kubernetes.io/version: v1.16.0
            helm.sh/chart: aws-vpc-cni-1.16.0
            k8s-app: aws-node
          name: aws-node
          namespace: kube-system
        tags:
          alpha.rafay.io/addon-name: vpc-cni
          alpha.rafay.io/cluster-name: abishek-eks-cluster-ha-oct-3-0
          alpha.rafay.io/rafay-version: v2.5.0-1
          alpha.rafay.io/stack-uuid: k35lx7m-cluster-1e56a94e-7cd3-4ce4-a3e4-6662279af036
          email: abishek@rafay.co
          env: on-prem
          rafay.cluster.k8s.io/v1alpha1/cluster-name: abishek-eks-cluster-ha-oct-3-0
      - attachRoleARN: arn:aws:iam::679196758854:role/rafay-abishek-eks-cluster-ha-oct-3-0-addon-aw-Role1-jFZdB82FxTy6
        metadata:
          labels:
            app.kubernetes.io/component: csi-driver
            app.kubernetes.io/managed-by: EKS
            app.kubernetes.io/name: aws-ebs-csi-driver
            app.kubernetes.io/version: 1.35.0
          name: ebs-csi-controller-sa
          namespace: kube-system
        tags:
          alpha.rafay.io/addon-name: aws-ebs-csi-driver
          alpha.rafay.io/cluster-name: abishek-eks-cluster-ha-oct-3-0
          alpha.rafay.io/rafay-version: v2.5.0-1
          email: abishek@rafay.co
          env: on-prem
          rafay.cluster.k8s.io/v1alpha1/cluster-name: abishek-eks-cluster-ha-oct-3-0
      serviceRoleARN: arn:aws:iam::679196758854:role/rafay-abishek-eks-cluster-ha-oct-3-0-cl-ServiceRole-bTVGKlNr6wMI
      withOIDC: true
    managedNodeGroups:
    - ami: ami-09c450339d874e0f2
      availabilityZones:
      - us-west-2d
      - us-west-2a
      - us-west-2b
      desiredCapacity: 1
      iam:
        instanceRoleARN: arn:aws:iam::679196758854:role/rafay-abishek-eks-cluster-ha-oct-3-NodeInstanceRole-KxTktM5FBNHk
      instanceType: t3.xlarge
      labels:
        alpha.rafay.io/cluster-name: abishek-eks-cluster-ha-oct-3-0
        alpha.rafay.io/nodegroup-name: ng-1
      maxSize: 1
      minSize: 1
      name: ng-1
      securityGroups:
        attachIDs:
        - sg-044d866480d060d68
        - sg-01b345aa398389175
      ssh:
        allow: true
        publicKeyName: aws-abi-key
      subnets:
      - subnet-05af93d2da3a4970f
      - subnet-07e4e5f6959efd032
      - subnet-075af41402073f597
      tags:
        alpha.eksctl.io/cluster-oidc-enabled: "true"
        alpha.rafay.io/cluster-name: abishek-eks-cluster-ha-oct-3-0
        alpha.rafay.io/nodegroup-name: ng-1
        alpha.rafay.io/nodegroup-type: managed
        alpha.rafay.io/rafay-version: v2.5.0-1
        email: abishek@rafay.co
        env: on-prem
        rafay.cluster.k8s.io/v1alpha1/cluster-name: abishek-eks-cluster-ha-oct-3-0
      volumeSize: 100
      volumeType: gp3
    metadata:
      name: abishek-eks-cluster-ha-oct-3-0
      region: us-west-2
      tags:
        alpha.eksctl.io/cluster-oidc-enabled: "true"
        alpha.rafay.io/cluster-name: abishek-eks-cluster-ha-oct-3-0
        alpha.rafay.io/rafay-version: v2.5.0-1
        alpha.rafay.io/stack-uuid: k35lx7m-cluster-1e56a94e-7cd3-4ce4-a3e4-6662279af036
        email: abishek@rafay.co
        env: on-prem
      version: "1.29"
    network:
      cni:
        name: aws-cni
    vpc:
      cidr: 192.168.0.0/16
      clusterEndpoints:
        privateAccess: true
        publicAccess: true
      id: vpc-052cfddac5be36a35
      securityGroup: sg-03dfeea3411ea3dc4
      subnets:
        private:
          subnet-0050047a078b0966c:
            id: subnet-0050047a078b0966c
          subnet-0ad211a00fce8b3e8:
            id: subnet-0ad211a00fce8b3e8
          subnet-0cc79cfaa2660ebc0:
            id: subnet-0cc79cfaa2660ebc0
        public:
          subnet-05af93d2da3a4970f:
            id: subnet-05af93d2da3a4970f
          subnet-075af41402073f597:
            id: subnet-075af41402073f597
          subnet-07e4e5f6959efd032:
            id: subnet-07e4e5f6959efd032
  proxyConfig: {}
  type: aws-eks
