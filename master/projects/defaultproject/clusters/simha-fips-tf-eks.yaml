apiVersion: infra.k8smgmt.io/v3
kind: Cluster
metadata:
  name: simha-fips-tf-eks
  project: defaultproject
spec:
  blueprintConfig:
    name: default
  cloudCredentials: simha-aws
  config:
    addons:
    - name: aws-ebs-csi-driver
      serviceAccountRoleARN: arn:aws:iam::679196758854:role/rafay-simha-fips-tf-eks-addon-aws-ebs-csi-dri-Role1-YMVPpROHktNw
      version: v1.35.0-eksbuild.1
    - name: coredns
      version: v1.11.3-eksbuild.1
    - name: kube-proxy
      version: v1.29.7-eksbuild.9
    - name: vpc-cni
      serviceAccountRoleARN: arn:aws:iam::679196758854:role/rafay-simha-fips-tf-eks-addon-vpc-cni-Role1-sBqLm7VJ7kZ7
      version: v1.18.5-eksbuild.1
    availabilityZones:
    - us-west-2d
    - us-west-2a
    - us-west-2c
    iam:
      serviceAccounts:
      - attachRoleARN: arn:aws:iam::679196758854:role/rafay-simha-fips-tf-eks-addon-vpc-cni-Role1-sBqLm7VJ7kZ7
        metadata:
          labels:
            app.kubernetes.io/instance: aws-vpc-cni
            app.kubernetes.io/managed-by: Helm
            app.kubernetes.io/name: aws-node
            app.kubernetes.io/version: v1.18.5
            helm.sh/chart: aws-vpc-cni-1.18.5
            k8s-app: aws-node
          name: aws-node
          namespace: kube-system
        tags:
          alpha.rafay.io/addon-name: vpc-cni
          alpha.rafay.io/cluster-name: simha-fips-tf-eks
          alpha.rafay.io/rafay-version: v2.5.0-1
          alpha.rafay.io/stack-uuid: mxn4g72-cluster-7d0c466f-525f-4b0f-891e-a4eb52af6b4a
          email: vijay@rafay.co
          env: qa
          rafay.cluster.k8s.io/v1alpha1/cluster-name: simha-fips-tf-eks
      - attachRoleARN: arn:aws:iam::679196758854:role/rafay-simha-fips-tf-eks-addon-aws-ebs-csi-dri-Role1-YMVPpROHktNw
        metadata:
          labels:
            app.kubernetes.io/component: csi-driver
            app.kubernetes.io/managed-by: EKS
            app.kubernetes.io/name: aws-ebs-csi-driver
            app.kubernetes.io/version: 1.35.0
          name: ebs-csi-controller-sa
          namespace: kube-system
        tags:
          alpha.rafay.io/addon-name: aws-ebs-csi-driver
          alpha.rafay.io/cluster-name: simha-fips-tf-eks
          alpha.rafay.io/rafay-version: v2.5.0-1
          alpha.rafay.io/stack-uuid: mxn4g72-cluster-7d0c466f-525f-4b0f-891e-a4eb52af6b4a
          email: vijay@rafay.co
          env: qa
          rafay.cluster.k8s.io/v1alpha1/cluster-name: simha-fips-tf-eks
      serviceRoleARN: arn:aws:iam::679196758854:role/rafay-simha-fips-tf-eks-cluster-ServiceRole-L35aUt4Z9xdg
      withOIDC: true
    managedNodeGroups:
    - ami: ami-09c450339d874e0f2
      availabilityZones:
      - us-west-2d
      - us-west-2a
      - us-west-2c
      desiredCapacity: 1
      iam:
        instanceRoleARN: arn:aws:iam::679196758854:role/rafay-simha-fips-tf-eks-nodegroup--NodeInstanceRole-BLW9RI2qdXBO
      instanceType: t3.small
      labels:
        alpha.rafay.io/bootstrap: "true"
        alpha.rafay.io/cluster-name: simha-fips-tf-eks
        alpha.rafay.io/nodegroup-name: bootstrap
        app: infra
        dedicated: "true"
      maxSize: 2
      minSize: 1
      name: bootstrap
      privateNetworking: true
      securityGroups:
        attachIDs:
        - sg-0216f983a42f2f32a
      subnets:
      - subnet-013ddba365bd9412a
      - subnet-018c9f06f86021a61
      - subnet-043d4d55ab812ec3f
      tags:
        alpha.eksctl.io/cluster-oidc-enabled: "true"
        alpha.rafay.io/cluster-name: simha-fips-tf-eks
        alpha.rafay.io/nodegroup-name: bootstrap
        alpha.rafay.io/nodegroup-type: managed
        alpha.rafay.io/rafay-version: v2.5.0-1
        email: vijay@rafay.co
        env: qa
        rafay.cluster.k8s.io/v1alpha1/cluster-name: simha-fips-tf-eks
      volumeSize: 100
      volumeType: gp3
    - ami: ami-09c450339d874e0f2
      availabilityZones:
      - us-west-2d
      - us-west-2a
      - us-west-2c
      desiredCapacity: 1
      iam:
        instanceRoleARN: arn:aws:iam::679196758854:role/rafay-simha-fips-tf-eks-nodegroup--NodeInstanceRole-r6QVEh4hS05G
      instanceType: t3.xlarge
      labels:
        alpha.rafay.io/cluster-name: simha-fips-tf-eks
        alpha.rafay.io/nodegroup-name: ng-1
        app: infra
        dedicated: "true"
      maxSize: 2
      minSize: 1
      name: ng-1
      privateNetworking: true
      securityGroups:
        attachIDs:
        - sg-0216f983a42f2f32a
      subnets:
      - subnet-013ddba365bd9412a
      - subnet-018c9f06f86021a61
      - subnet-043d4d55ab812ec3f
      tags:
        alpha.eksctl.io/cluster-oidc-enabled: "true"
        alpha.rafay.io/cluster-name: simha-fips-tf-eks
        alpha.rafay.io/nodegroup-name: ng-1
        alpha.rafay.io/nodegroup-type: managed
        alpha.rafay.io/rafay-version: v2.5.0-1
        email: vijay@rafay.co
        env: qa
        rafay.cluster.k8s.io/v1alpha1/cluster-name: simha-fips-tf-eks
      volumeSize: 100
      volumeType: gp3
    metadata:
      name: simha-fips-tf-eks
      region: us-west-2
      tags:
        alpha.eksctl.io/cluster-oidc-enabled: "true"
        alpha.rafay.io/cluster-name: simha-fips-tf-eks
        alpha.rafay.io/rafay-version: v2.5.0-1
        alpha.rafay.io/stack-uuid: mxn4g72-cluster-7d0c466f-525f-4b0f-891e-a4eb52af6b4a
        email: vijay@rafay.co
        env: qa
      version: "1.29"
    network:
      cni:
        name: aws-cni
    vpc:
      cidr: 192.168.0.0/16
      clusterEndpoints:
        privateAccess: true
        publicAccess: true
      id: vpc-065b855f6b6a490ae
      securityGroup: sg-00531ad735ad0a6fa
      subnets:
        private:
          subnet-013ddba365bd9412a:
            id: subnet-013ddba365bd9412a
          subnet-018c9f06f86021a61:
            id: subnet-018c9f06f86021a61
          subnet-043d4d55ab812ec3f:
            id: subnet-043d4d55ab812ec3f
        public:
          subnet-03852a0cf4d45286b:
            id: subnet-03852a0cf4d45286b
          subnet-0eeebde4aa4c46a95:
            id: subnet-0eeebde4aa4c46a95
          subnet-0ef24c7fa33748317:
            id: subnet-0ef24c7fa33748317
  proxyConfig: {}
  type: aws-eks
