apiVersion: infra.k8smgmt.io/v3
kind: Cluster
metadata:
  name: simha-gke
  project: defaultproject
spec:
  blueprint:
    name: default-gke
    version: latest
  cloudCredentials: simha-gke
  config:
    controlPlaneVersion: "1.24"
    features:
      enableComputeEnginePersistentDiskCSIDriver: true
    gcpProject: on-prem-382813
    location:
      config:
        zone: us-west1-c
      type: zonal
    network:
      access:
        config:
          controlPlaneIPRange: 172.16.0.0/28
          disableSNAT: true
          enableAccessControlPlaneExternalIP: true
          enableAccessControlPlaneGlobal: true
        type: private
      enableVPCNativetraffic: true
      maxPodsPerNode: 110
      name: default
      subnetName: default
    nodePools:
    - machineConfig:
        bootDiskSize: 100
        bootDiskType: pd-standard
        imageType: COS_CONTAINERD
        machineType: e2-standard-8
      name: default-nodepool
      nodeVersion: "1.24"
      size: 1
    security:
      enableWorkloadIdentity: true
  type: gke
